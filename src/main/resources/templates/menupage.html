<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html"
      xmlns:color="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Menu</title>

    <link th:href="@{/menupage.css}" type="text/css" rel="stylesheet"/>
    <link th:href="@{/webjars/bulma/0.6.0/css/bulma.css}" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" th:href="@{/webjars/font-awesome/5.12.0/css/font-awesome.min.css}"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
</head>
<body>

<div class = title1>
    <h2>MENU</h2>
</div>

<script th:inline="javascript">
    $(function(){

        var menu = [[${menuH}]];
var i=0;
        while (menu[i]!=null) {
            var node = document.createElement("LI");
            var textnode = document.createTextNode(menu[i].item + "  $" + menu[i].price);
            node.appendChild(textnode);
            document.getElementById("list").appendChild(node);
            i++;
            $("#butn").append("<button id = 'additem"+i+"' class= \"btn btn-2 btn-sep icon-cart\" >Add 1 to cart</button>")
        }
    });

</script>
<section>
    <div style="float: left; padding-left: 100px;">
<ol id = "list">

</ol>
</div>
</section>
<section id = "buttonsctn">
<div id = "butn">

</div>
</section>

<section class = "Checkout Button">
    <div class = "checkout">

        <button onclick="location.href='/Checkout'" id = checkout class = "btn btn-2 btn-sep icon-send">Checkout</button>
    </div>
</section>

</section>

<script>


    var custid;
    $.get("/cust/id", function(data){
        custid=data;
    });




    $(document).on('click','#additem1',function () {
        console.log("1 Steak Added");
        $.ajax({
            type: 'PUT',
            url: 'https://localhost:8080/cart/add?item=0&'+'id='+custid,

            contentType:'application/json',
            success: function () {
                return alert("Added one steak to cart ");
            }

        });

    });

    $(document).on('click','#additem2',function () {
        console.log("1Hamburger Added");
        $.ajax({
            type: 'PUT',
            url: 'https://localhost:8080/cart/add?item=1&'+ 'id='+custid,
            data: "item=1 & id=0",
            contentType:'application/json',
            success: function () {
                return alert("Added  one Hamburger to cart ");
            }

        });

    });
    $(document).on('click','#additem3',function() {
        console.log("1 Cheeseburger Added");
        $.ajax({
            type: 'put',
            url: 'https://localhost:8080/cart/add?item=2&'+'id='+custid,
            data: "item=0 & id=0",
            contentType:'application/json',
            success: function() {
                return alert("Added one Cheeseburger to cart ");
            }

        });

    });
    $(document).on('click','#additem4',function () {
        console.log("1 pizza Added");
        $.ajax({
            type: 'put',
            url: 'https://localhost:8080/cart/add?item=3&'+'id='+custid,
            data: "item=0 & id=0",
            contentType:'application/json',
            success: function () {
                return alert("Added one Pizza to cart ");
            }

        });

    });
    $(document).on('click','#additem5',function () {
        console.log("1 Grilled Chicken Added");
        $.ajax({
            type: 'put',
            url: 'https://localhost:8080/cart/add?item=4&'+'id='+custid,
            data: "item=0 & id=0",
            contentType:'application/json',
            success: function () {
                return alert("Added one Grilled Chicken to cart ");
            }

        });

    });


    $(document).on('click','#additem6',function () {
        console.log("1 Steak Added");
        $.ajax({
            type: 'PUT',
            url: 'https://localhost:8080/cart/add?item=5&'+'id='+custid,

            contentType:'application/json',
            success: function () {
                return alert("Added one steak to cart ");
            }

        });

    });

    $(document).on('click','#additem7',function () {
        console.log("1Hamburger Added");
        $.ajax({
            type: 'PUT',
            url: 'https://localhost:8080/cart/add?item=6&'+ 'id='+custid,
            data: "item=1 & id=0",
            contentType:'application/json',
            success: function () {
                return alert("Added  one Hamburger to cart ");
            }

        });

    });
    $(document).on('click','#additem8',function() {
        console.log("1 Cheeseburger Added");
        $.ajax({
            type: 'put',
            url: 'https://localhost:8080/cart/add?item=7&'+'id='+custid,
            data: "item=0 & id=0",
            contentType:'application/json',
            success: function() {
                return alert("Added one Cheeseburger to cart ");
            }

        });

    });
    $(document).on('click','#additem9',function () {
        console.log("1 pizza Added");
        $.ajax({
            type: 'put',
            url: 'https://localhost:8080/cart/add?item=8&'+'id='+custid,
            data: "item=0 & id=0",
            contentType:'application/json',
            success: function () {
                return alert("Added one Pizza to cart ");
            }

        });

    });
    $(document).on('click','#additem10',function () {
        console.log("1 Grilled Chicken Added");
        $.ajax({
            type: 'put',
            url: 'https://localhost:8080/cart/add?item=9&'+'id='+custid,
            data: "item=0 & id=0",
            contentType:'application/json',
            success: function () {
                return alert("Added one Grilled Chicken to cart ");
            }

        });

    });
</script>


</body>
</html>


